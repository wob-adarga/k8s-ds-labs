{
  "pipeline": {
    "name": "document-clustering"
  },
  "metadata": {
    "annotations": {
        "document-clustering-model-version": "%%TAG%%"
    }
  },
  "description": "document clustering pipeline",
  "transform": {
    "cmd": [ "python3", "DocumentClusteringPipeline.py"],
    "image": "eu.gcr.io/adarga-docker/document-clustering-pipeline:%%TAG%%",
    "env": {
      "SERVICE_URL_BASE": "http://doc2vec-predict-default.seldon.svc.cluster.local:8000",
      "SERVICE_ENDPOINT": "api/v1.0/predictions",
      "MENTIONS_REPO": "pfs/mention-extraction",
      "INPUT_REPO": "pfs/clean-ingress-feed",
      "OUTPUT_REPO": "pfs/out"
    }
  },
  "input": {
    "join": [
      {
        "pfs": {
          "name": "clean-ingress-feed",
          "repo": "clean-ingress-feed",
          "glob": "/*/*",
          "branch": "master"
        }
      },
      {
        "pfs": {
          "name": "mention-extraction",
          "repo": "mention-extraction",
          "glob": "/*/*",
          "branch": "master"
        }
      }
    ]
  },
  "enable_stats": false,
  "egress": {
    "URL": "s3://adarga-ds-lab-1-pachyderm-egress/feed-document-clustering"
  }
}